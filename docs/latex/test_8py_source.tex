\doxysection{test.\+py}
\hypertarget{test_8py_source}{}\label{test_8py_source}\mbox{\hyperlink{test_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00001}\mbox{\hyperlink{namespacetest}{00001}}\ }
\DoxyCodeLine{\Hypertarget{test_8py_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{test_8py_source_l00004}00004\ \textcolor{keyword}{import}\ numpy\ \textcolor{keyword}{as}\ np}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00005}00005\ \textcolor{keyword}{from}\ PIL\ \textcolor{keyword}{import}\ Image}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00006}00006\ \textcolor{keyword}{from}\ scramble\ \textcolor{keyword}{import}\ normalize\_image,\ pad\_image\_to\_block\_size,\ scramble\_image,\ descramble\_image,\ psnr}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00007}00007\ }
\DoxyCodeLine{\Hypertarget{test_8py_source_l00008}\mbox{\hyperlink{namespacetest_a7bd79e10dc5e958b5f127f8f7a33344c}{00008}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacetest_a7bd79e10dc5e958b5f127f8f7a33344c}{test\_scramble\_descramble}}():}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00009}00009\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00010}00010\ \textcolor{stringliteral}{\ \ \ \ Функция\ для\ тестирования\ процесса\ скремблирования\ и\ дескремблирования\ изображения.}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00011}00011\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00012}00012\ \textcolor{stringliteral}{\ \ \ \ @return\ Ничего\ не\ возвращает.}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00013}00013\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00014}00014\ \ \ \ \ original\_image\ =\ np.array(Image.open(\textcolor{stringliteral}{"{}Protorave.png"{}}))\ \ \textcolor{comment}{\#\ Открываем\ исходное\ изображение}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00015}00015\ \ \ \ \ original\_image\_padded\ =\ pad\_image\_to\_block\_size(original\_image)\ \ \textcolor{comment}{\#\ Делаем\ размер\ изображения\ кратным\ размеру\ блока}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00016}00016\ \ \ \ \ normalized\_original\_image\ =\ normalize\_image(original\_image\_padded)\ \ \textcolor{comment}{\#\ Нормализуем\ изображение}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{test_8py_source_l00018}00018\ \ \ \ \ seed\ =\ 300\ \ \textcolor{comment}{\#\ Зерно\ генератора\ случайных\ чисел}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00019}00019\ \ \ \ \ p\ =\ 0.9\ \ \textcolor{comment}{\#\ Вероятность\ p}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00020}00020\ \ \ \ \ n\ =\ 2\ \ \textcolor{comment}{\#\ Число\ n}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00021}00021\ \ \ \ \ scrambled\_image\ =\ scramble\_image(normalized\_original\_image,\ seed,\ p,\ n)\ \ \textcolor{comment}{\#\ Скремблируем\ изображение}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00022}00022\ \ \ \ \ scrambled\_image\ =\ (scrambled\_image\ *\ 255).astype(np.uint8)\ \ \textcolor{comment}{\#\ Преобразуем\ изображение\ обратно\ в\ 8-\/битное}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00023}00023\ \ \ \ \ scrambled\_image\ =\ Image.fromarray(scrambled\_image)\ \ \textcolor{comment}{\#\ Преобразуем\ массив\ в\ изображение}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00024}00024\ \ \ \ \ scrambled\_image.show()\ \ \textcolor{comment}{\#\ Показываем\ скремблированное\ изображение}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00025}00025\ \ \ \ \ scrambled\_image.save(\textcolor{stringliteral}{"{}scrambled\_image.png"{}})\ \ \textcolor{comment}{\#\ Сохраняем\ скремблированное\ изображение}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00026}00026\ \ \ \ \ normalized\_scrambled\_image\ =\ normalize\_image(scrambled\_image)\ \ \textcolor{comment}{\#\ Нормализуем\ скремблированное\ изображение\ перед\ дескремблированием}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00027}00027\ \ \ \ \ descrambled\_image\ =\ descramble\_image(normalized\_scrambled\_image,\ seed,\ p,\ n)\ \ \textcolor{comment}{\#\ Дескремблируем\ изображение}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00028}00028\ \ \ \ \ descrambled\_image\ =\ (descrambled\_image\ *\ 255).astype(np.uint8)\ \ \textcolor{comment}{\#\ Преобразуем\ изображение\ обратно\ в\ 8-\/битное}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00029}00029\ \ \ \ \ descrambled\_image\ =\ Image.fromarray(descrambled\_image)\ \ \textcolor{comment}{\#\ Преобразуем\ массив\ в\ изображение}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00030}00030\ \ \ \ \ descrambled\_image.show()\ \ \textcolor{comment}{\#\ Показываем\ дескремблированное\ изображение}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00031}00031\ \ \ \ \ descrambled\_image.save(\textcolor{stringliteral}{"{}descrambled\_image.png"{}})\ \ \textcolor{comment}{\#\ Сохраняем\ дескремблированное\ изображение}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00032}00032\ }
\DoxyCodeLine{\Hypertarget{test_8py_source_l00033}00033\ \ \ \ \ psnr\_value\ =\ psnr(normalized\_original\_image,\ normalized\_scrambled\_image)\ \ \textcolor{comment}{\#\ Вычисляем\ PSNR\ между\ исходным\ и\ дескремблированным\ изображениями}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00034}00034\ \ \ \ \ print(\textcolor{stringliteral}{"{}PSNR:"{}},\ psnr\_value)\ \ \textcolor{comment}{\#\ Выводим\ значение\ PSNR}}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{test_8py_source_l00036}00036\ \textcolor{keywordflow}{if}\ \_\_name\_\_\ ==\ \textcolor{stringliteral}{"{}\_\_main\_\_"{}}:}
\DoxyCodeLine{\Hypertarget{test_8py_source_l00037}00037\ \ \ \ \ \mbox{\hyperlink{namespacetest_a7bd79e10dc5e958b5f127f8f7a33344c}{test\_scramble\_descramble}}()\ \ \textcolor{comment}{\#\ Запускаем\ функцию\ тестирования}}

\end{DoxyCode}
